---
title: 2025-08-10 Weekly Notes
date: 2025-08-10
image: ../assets/images/projects/phd-blog/2025-08-10-week.png
categories:
- phd
- carto
- map
- dataviz
---

So last week I updated the results with the spatial error models and worked on the supplementary material of the paper mostly. The app to visualise all the trees is done (see below). Building it was surprisingly easier than it looked. Just let Sedona partition the data and upload that to a Google Cloud bucket, then create a table that CARTO can read and make the connection between the two. With this I realised that it is impossible to upload the tree partitions to Zenodo because there is a restriction to the number fo files, even though the 183 million trees only take 6 GB as parquet files (highly recommended format for those that still use .shp or .gpkg). Big plus from this that I actually got to play around with GCP.

Going back to the app, it is possible to count the trees in the viewport, in a selection area by the user and see the distribution of crown areas and heights. In order for it to perform well and load more-or-less fast, trees had to be simplified to points, but the radius encodes the crown size and the colours do it for the height.

On the other hand, I met with [Michael](https://digitalflapjack.com/) and Finley to discuss some ideas on how to take my data or some derivate of it to a physical form with 3D printers. Always a nice visit to the makespace lab. I also played with rayshader in R a bit to see what 3D modesl can be made out of sf objects in R, but they aren't as good, plus they rely on colour, so not ideal for 3D printing.

Finally, I started the work on using TESSERA for my project. As explained in previous posts, I have the idea to use it to test LCZ classification scheme that dominates the urban science landscapet. For that, I need labels of the actual land use in cities. Currently, there are three main sources: (i), community data from [WUDAPT](https://digitalflapjack.com/), (ii) the [2022 paper](https://essd.copernicus.org/articles/14/3835/2022/) that uses multiple satellite products (similar to those used by Google's AlphaEarth model) and, (iii) [Geoclimate](https://geoclimate.readthedocs.io/en/latest/index.html), which I actually discovered in EGU24 last year. It uses OpenStreetMap to define LCZ classifications at different scales. So, I've been setting it up and already got classification for London and other cities. The biggest obstacle is the coregistration of pixels from this tool and the embeddings from any FM model, so that's the next problem to solve.

Summer school season started and I've been preparing lectures to undergraduate and high school students from all over the world about my PhD project, AI and urban planning. It's always nice to talk to people unfamiliar with your project and get good feedback from a younger audience (which makes me feel super old ðŸ‘´).

## Past Weekly Objectives
- ~~Move the trees dataset to an CARTO App~~
- ~~Make the corrections to the manuscript~~
  - ~~Update methods and results~~
- Design UI for Earth Engine App of aggregated data
- ~~Start working with TESSERA~~
- ~~Prepare content for summer schools~~

## Weekly Objectives
- Design UI for Earth Engine App of aggregated data
- Actually put a good name on the paper
  - Prepare cover letter for submission
- LCZ classification
  - Create script to run Geoclimate from python (no java)
  - Delineate cities using boundaries or bbox from GAUL
- Prepare summer schools batch 2


## Interactive Version

<iframe src="https://pinea.app.carto.com/map/9096a989-bb01-40b7-bc1b-d5b79ccf5120" width="100%" height="500px"></iframe>